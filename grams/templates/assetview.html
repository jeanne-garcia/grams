{% extends 'base.html' %}

{% block page_css %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'dashboard.css' %}">
    <link rel="stylesheet" type="text/css" 
    href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/buttons/1.5.6/css/buttons.dataTables.min.css">
    <link rel="stylesheet" type="text/css" 
    href="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.10.18/af-2.3.0/b-1.5.2/b-colvis-1.5.2/b-flash-1.5.2/b-html5-1.5.2/b-print-1.5.2/cr-1.5.0/fh-3.1.4/r-2.2.2/datatables.min.css"/>
{% endblock page_css %}
{% block content %}
<section id="main" class="content">
    <div class="titlepage">
        <h1>{{ asset_view.name }}</h1>
    </div>

        <div class="row container-fluid">
            <div class="col-sm viewbox">
                <h2>
                    <i class="fas fa-info-circle"></i>&nbsp; Information
                </h2>
                {% if asset_view.status == 'Archived' %}
                    <div class="critical" style="color:#fff;padding:8px;margin-bottom:15px;margin-top:15px;border-radius:8px;">
                        <center>This item is archived.</center>
                    </div>
                {% endif %}
                
                    <table class="info-table" >
                        <tr>
                            <td class= "left-align"><b>ID</b></td>
                            <td class= "right-align">{{ asset_view.id }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Date Added</b></td>
                            <td class= "right-align">{{ asset_view.date_added }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Date Acquired</b></td>
                            <td class= "right-align">{{ asset_view.date_acquired }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Category</b></td>
                            <td class= "right-align">{{ asset_view.category }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Brand</b></td>
                            <td class= "right-align">{{ asset_view.brand }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Status</b></td>
                            <td class= "right-align">{{ asset_view.status }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Location</b></td>
                            <td class= "right-align">{{ asset_view.branch }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Model Number</b></td>
                            <td class= "right-align">{{ asset_view.model_no }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Serial Number</b></td>
                            <td class= "right-align">{{ asset_view.serial_no }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Specifications</b></td>
                            <td class= "right-align">{{ asset_view.specifications }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Description</b></td>
                            <td class= "right-align">{{ asset_view.description }}</td>
                        </tr>
                    </table>
            </div>

            <div class="col-sm">
                <h2>
                    <i class="fas fa-money-bill-wave"></i>&nbsp; Depreciation
                </h2>

                <table class="table table-striped dep-table" id="myTable">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Accumulated Depreciation</th>
                            <th>Book Value</th>
                        </tr>
                    </thead>

                    <tbody>
                    {% for value in dep_values %}
                        <tr>
                        
                            <td>{{ value.0 }}</td>
                            <td>{{ value.1 }}</td>
                            <td>{{ value.2 }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>

                <div class="row">
                    <div class="col">
                        <b>Depreciation Value</b>&nbsp; Php {{ asset_view.dep_value }}
                    </div>
                </div>
            </div>

            
        </div>

        <div class="row container-fluid">
           
            <div class="col-sm">
                <h2>
                    <i class="fas fa-chart-line"></i>&nbsp; Estimated Cost
                </h2>
                    <table class="info-table" >
                        <tr>
                            <td class= "left-align"><b>Acquisition Cost: </b></td>
                            <td class= "right-align">Php {{ asset_view.acquisition_cost }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Salvage Value: </b></td>
                            <td class= "right-align">Php {{ asset_view.salvage_value }}</td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Projected Life: </b></td>
                            <td class= "right-align">{{ asset_view.project_life }} Months<br/></td>
                        </tr>
                        <tr>
                            <td class= "left-align"><b>Book Value: </b></td>
                            <td class= "right-align">Php {{ asset_view.balance }}<br/></td>
                        </tr>
                    </table>
            </div>

            <div class="col-sm">
                <h2>
                    <i class="far fa-clock"></i>&nbsp; Recent Actions
                </h2>

                <!-- ra 1 -->
                <div class="tablebox">
                    <div class="container-fluid">
                        <div class="row">
                            {% for trail in audit_trail %}
                                <div class="col-sm">
                                    <!-- icon --><i class="far fa-clock"></i>
                                </div>
                                <div class="col">
                                    {{ trail.description }}
                                </div>
                            {% endfor %}
                        </div>
                        <!--
                        <div class="row">
                            <ul>
                                <li class="date">
                                    2018/11/15 13:00
                                </li>
                                <li class="critical">
                                    past due
                                </li>
                                <li class="neutral">
                                    asset#43215678
                                </li>
                            </ul>
                        </div>
                        -->
                    </div>
                </div>
            {% block js %}
                <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
                <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
                <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
                <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.flash.min.js"></script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
                <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"></script>
                <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.print.min.js"></script>
            {% endblock js %}

            </div>
        </div>

</section>

<div class="footer">
    {% if asset_view.display == '1' %}
        <a href="{% url 'asset-edit' asset_view.id %}" class="btn float-right neutral">Edit</a>
        <a href="{% url 'asset-revalue' asset_view.id %}" class="btn float-right low">Revalue</a>
        <a href="{% url 'asset-archive' asset_view.id %}" class="btn float-right critical" onclick="return confirm('Are you sure you want to archive this asset?')">Archive</a>
    {% endif %}
    {% if asset_view.display == '0' %}
        <a href="{% url 'asset-recover' asset_view.id %}" class="btn float-right misc" onclick="return confirm('Are you sure you want to recover this asset?')">Recover</a>
        <a href="{% url 'delete-asset' asset_view.id %}" class="btn float-right critical" onclick="return confirm('Are you sure you want to remove this asset from the database?')">Delete</a>
    {% endif %}

</div>
    
{% endblock content %}